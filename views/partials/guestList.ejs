<form class="party-box" method="post" action="/submit-guest-list">
    <h2>Guest list</h2>
    <div class="guest-list-container">
      <div class="guest-list-modal hidden">
        <div class="guest-list-contents">
          <% for(field of guestListModalContents) { %>
            <div
              class="question-container <%= field.halfWidth ? 'half-width' : '' %>"
            >
              <div class="question-title"><%= field.questionTitle %></div>
              <% if(field.dropDownOptions){ %>
              <select name="<%=field.name%>">
                <% field.dropDownOptions.forEach(function(option) { %>
                <option value="<%= option %>"
                  <% const selectedStatus = keyExists(partyDetailsArray, field.name) ? getValueByKey(partyDetailsArray, field.name) : ""  %>
                  <%= selectedStatus == option ? "selected" : "" %>>
                  <%= option %></option>
                <% }); %>
              </select>
              <% } else { %>
              <div class="free-text-field full-width">
                <input type="text" name="<%=field.name%>" value="<%=
                keyExists(partyDetailsArray, field.name) ?
                getValueByKey(partyDetailsArray, field.name) : "" %>" />
              </div>
              <% } %>
            </div>
            <% } %>
        </div>
      </div>
    </div>
    <div class="submit-button-container">
        <input class="guest-list-submit hidden" type="submit" value="Submit details">
      </div>
      <div class="submit-button-container guest-list-add">
        <input class="guest-list-add" type="button" value="Add a new guest">
    </div>
  </form>